# RCC 更新日志

---
## 变更类型与版本号对应关系
| 变更类型           |   缩写    |  对应版本层级  | 说明                                       |
|:---------------|:-------:|:--------:|:-----------------------------------------|
| **Breaking**   |  break  |  Major   | 不兼容的API变更或功能调整，可能导致旧版本生成的文件/代码无法在新版本中运行  |
| **Feature**    |  feat   |  Minor   | 向后兼容的功能新增或模块扩展，不影响现有功能的正常使用              |
| **BugFix**     |   fix   |  Patch   | 向后兼容的问题修复，解决已知的功能缺陷或错误                   |
| **Optimize**   |   opt   |  Patch   | 性能优化相关修改，不影响现有功能逻辑和接口                    |
| **Deprecate**  |  depr   |  Minor   | 标记即将在未来版本中移除的功能，当前仍保持兼容性并提供替代方案          |
| **Refactor**   |   ref   |  Patch   | 代码结构重构，不改变功能行为和对外接口，仅优化内部实现              |
| **Docs**       |   doc   |  Patch   | 仅文档内容更新（如README、注释、使用说明等），无代码逻辑变更        |
| **Test**       |  test   |  Patch   | 测试相关修改（如新增测试用例、优化测试代码等），不影响生产代码功能        |

---
## 规则备注

采用 `Markdown` 中划线（`~~...~~`）格式标注的版本号（示例：~~v1.0.0~~），特指该版本的 Release 在运行时，所输出的版本号存在偏差；当前已完成修正，最新有效版本号以新标注内容为准。

---
## 版本总览
|            版本             |     日期     |                              概要                              |                      类型                      |     作者      |
|:-------------------------:|:----------:|:------------------------------------------------------------:|:--------------------------------------------:|:-----------:|
|       **`v1.0.0`**        | 2025-09-15 |                         发布 RCC 初始版本                          |                **[Feature]**                 | RestRegular |
|       **`v1.1.0`**        | 2025-09-15 |                        完善增强型赋值符的编译功能                         |                **[Feature]**                 | RestRegular |
|       **`v1.1.1`**        | 2025-09-16 |           对项目内置函数的整体实现架构进行优化调整，提升代码规范性、可维护性与功能灵活性            |           **[Refactor] [BugFix]**            | RestRegular |
|       **`v1.2.0`**        | 2025-09-17 |          本次更新扩展了字符串转义功能，并修复了包含扩展导入、静态成员编译在内的多个关键问题           |            **[Feature] [BugFix]**            | RestRegular |
|       **`v1.3.0`**        | 2025-09-17 |                             ...                              |                **[Feature]**                 | RestRegular |
|       **`v1.4.0`**        | 2025-09-17 |                             ...                              |                **[Feature]**                 | RestRegular |
|       **`v1.5.0`**        | 2025-09-17 |          解决了导入扩展中的自定义类不能直接用作类型标签的问题，并引入了一种间接使用的解决方案          |            **[Feature] [BugFix]**            | RestRegular |
|       **`v1.5.1`**        | 2025-09-17 |                         修复了导入扩展相关错误                          |                 **[BugFix]**                 | RestRegular |
|       **`v1.5.2`**        | 2025-09-18 |                  修复了访问扩展的成员函数时，可能出现符号丢失的错误                   |                 **[BugFix]**                 | RestRegular |
|       **`v1.5.3`**        | 2025-09-18 |                 重构了 RCC 版本输出信息格式，与 RVM 保持一致                  |                **[Refactor]**                | RestRegular |
|       **`v1.6.0`**        | 2025-09-20 |                      新增递归导入中循环导入错误的检查功能                      |                **[Feature]**                 | RestRegular |
| **`v1.7.0` ~~`v1.6.1`~~** | 2025-09-26 |               弃用特定关键字，修复内置函数及类相关问题，统一类成员排列规则。                |     **[BugFix] [Refactor] [Deprecate]**      | RestRegular |
|       **`v1.8.0`**        | 2025-10-02 |                    新增类继承、修复参数类型错误及重构相关函数                     | **[Feature] [BugFix] [Refactor] [Optimize]** | RestRegular |
|       **`v1.9.0`**        | 2025-10-16 |                  修复了解析器相关问题，新增了 `copy` 内置函数                  |            **[Feature] [BugFix]**            | RestRegular |
|       **`v1.10.0`**       | 2025-10-16 | 更新 `ds` 扩展的文档注释并新增内置函数，修复变量覆盖问题，优化符号命名冲突提示信息，新增自定义条件断点的开发者模式 |   **[Feature] [BugFix] [Optimize] [doc]**    | RestRegular |
|       **`v1.11.0`**       | 2025-10-17 |                     扩展 `ds` 内置模块，新增功能函数                      |                **[Feature]**                 | RestRegular |
|       **`v1.12.0`**       | 2025-10-18 |                     新增类型标签描述功能，优化部分内置函数                      |           **[Feature] [Optimize]**           | RestRegular |
|       **`v1.12.1`**       | 2025-10-18 |                   优化 `funi` 类型标签描述解析及匹配逻辑                    |                **[Optimize]**                | RestRegular |
|       **`v1.12.2`**       | 2025-10-19 |                    修复了条件分支中与外部符号状态修改相关的错误                    |                 **[BugFix]**                 | RestRegular |
|       **`v1.12.3`**       | 2025-10-22 |             修复了空字典解析的词法错误、变长参数编译的中间码生成与自定义类型相关问题             |                 **[BugFix]**                 | RestRegular |
|       **`v1.13.0`**       | 2025-10-25 |                  扩展了内置符号绑定功能，修复了类型标签描述比较的错误                  |            **[Feature] [BugFix]**            | RestRegular |
|       **`v1.13.1`**       | 2025-10-29 |                         修复了语法分析相关问题                          |                 **[BugFix]**                 | RestRegular |
|       **`v1.13.2`**       | 2025-10-30 |            修复了类型标签解析的多个问题，包括函数返回、嵌套类型标签解析及标签缺失异常             |                 **[BugFix]**                 | RestRegular |
|       **`v1.13.3`**       | 2025-10-30 |                          优化了错误提示信息                           |                **[Optimize]**                | RestRegular |
|       **`v1.13.4`**       | 2025-10-31 |                       修复了扩展导入和函数调用相关问题                       |                 **[BugFix]**                 | RestRegular |
|       **`v1.13.5`**       | 2025-10-31 |                修复错误信息不准确相关的问题，重构了相关内置函数的执行逻辑                 |           **[BugFix] [Refactor]**            | RestRegular |
|       **`v1.13.6`**       | 2025-11-01 |                        重构了内置扩展的相关函数实现                        |                **[Refactor]**                | RestRegular |
|       **`v1.13.7`**       | 2025-11-02 |                        修复未检查符号存在性的问题                         |                 **[BugFix]**                 | RestRegular |
|       **`v1.13.8`**       | 2025-11-02 |                           优化了帮助信息                            |                **[Optimize]**                | RestRegular |
| **`v1.14.0`** | 2025-11-05 | 优化了命令行参数解析，新增了获取符号信息功能 | **[Refactor] [Feature]** | RestRegular |
| **`v1.15.0`** | 2025-11-21 | 新增内置扩展函数、优化完善编译相关功能。 | **[Feature] [Optimize]** | RestRegular |
| **`v1.16.0`** | 2025-11-21 | 完善内置扩展和函数，修复符号循环备份错误 | **[BugFix] [Feature] [Optimize]** | RestRegular |
<!-- Add Version Overview -->

---
## 详细日志

<!-- Add Version Details -->

---
### 版本号 `v1.16.0` (2025-11-21)
- **类型**：**[BugFix] [Feature] [Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/11/21 20:56
- **更新内容**：
  - 完善了 `ds` 内置扩展中的 `List` 类并新增 `listAppend` 内置函数。
  - 新增了 `ops` 内置扩展。
  - 修复了自定义类型的标签符号在备份副本时与基类和派生类互相循环备份的错误。

---
### 版本号 `v1.15.0` (2025-11-21)
- **类型**：**[Feature] [Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/11/21 16:49
- **更新内容**：
  - 为内置扩展 `ds` 新增了排序功能函数。
  - 完善了编译器对符号表和 RA 值处理的相关代码。
  - 更新了命令行参数解析部分，增加编译级别选项。
  - 优化了类型检查和空值处理逻辑。
  - 改进了类成员查找机制，支持继承链查找。

---
### 版本号 `v1.14.0` (2025-11-05)
- **类型**：**[Refactor] [Feature]**
- **作者**：RestRegular
- **更新时间**：2025/11/05 12:37
- **更新内容**：
  - 优化了命令行参数解析逻辑。
  - 新增了获取指定文件、扩展或目录定义的符号信息的功能。

---
### 版本号 `v1.13.8` (2025-11-02)
- **类型**：**[Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/11/02 21:36
- **更新内容**：
  - 优化了帮助信息。

---
### 版本号 `v1.13.7` (2025-11-02)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/11/02 03:19
- **更新内容**：
  - 修复了获取操作符号时因未检查符号存在性而导致异常未被捕获的问题，确保符号缺失时能正确触发错误处理流程。

---
### 版本号 `v1.13.6` (2025-11-01)
- **类型**：**[Refactor]**
- **作者**：RestRegular
- **更新时间**：2025/11/01 00:03
- **更新内容**：
  - 重构了 ds 内置扩展中的 `repeat` 函数为内置函数，在编译器内部使用更高效的 RI 指令编译。

---
### 版本号 `v1.13.5` (2025-10-31)
- **类型**：**[BugFix] [Refactor]**
- **作者**：RestRegular
- **更新时间**：2025/10/31 15:46
- **更新内容**：
  - 修复了 `funi` 类型函数的调用表达式作为函数参数传递时，出错后错误信息中错误行位置不准确的问题。
  - 重构了 `import` 内置函数导入系统外部扩展相关逻辑，支持通过 **ext_info.json** 文件指定扩展的入口文件。

---
### 版本号 `v1.13.4` (2025-10-31)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/31 15:00
- **更新内容**：
  - 修复了调用 DLL 扩展函数时 `IRCCCompileInterface` 参数发生变化导致调用失败的问题。
  - 修复了加载扩展时，因路径错误或路径不存在引发导入错误，而捕获该错误时因缓存的处理位置信息异常，导致程序异常退出且错误未被正确处理的问题。

---
### 版本号 `v1.13.3` (2025-10-30)
- **类型**：**[Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/10/30 21:47
- **更新内容**：
  - 优化了扩展相关的错误提示信息。

---
### 版本号 `v1.13.2` (2025-10-30)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/30 20:03
- **更新内容**：
  - 修复了含描述的类型标签作为函数返回类型标签时无法被正确解析的问题。
  - 修复了嵌套于类型标签描述中的含描述的类型标签无法被正确解析的问题。
  - 修复了因类型标签缺失导致的解析异常问题，并补全了相关类型标签。
  - 修复了错误信息中错误位置不准确的问题。

---
### 版本号 `v1.13.1` (2025-10-29)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/29 12:39
- **更新内容**：
  - 修复了语法分析阶段遇到错误后仅打印输出错误提示却未以错误的形式退出程序的问题。

---
### 版本号 `v1.13.0` (2025-10-25)
- **类型**：**[Feature] [BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/25 17:00
- **更新内容**：
  - 修复了类型标签描述在比较相等关系时，因未校验描述组数量导致的编译器崩溃问题。
  - 支持将外部 C++ 编写的 DLL 库绑定为 Rio 内置符号，为高级功能开发提供内置函数扩展能力。

---
### 版本号 `v1.12.3` (2025-10-22)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/22 10:14
- **更新内容**：
  - 解决了语法分析器在解析空字典 `{}` 时，会误将右花括号 `}` 识别为前缀表达式，进而导致词法分析阶段报错的问题。
  - 解决了在调用包含位置变长参数的函数时，生成中间代码中参数寄存器标识符判断与分配不正确的问题。
  - 修复了在查找并匹配类的构造函数时，参数匹配逻辑不正确导致匹配失败的问题。
  - 修复了在动态改变父类类型变量为子类时，类型检测逻辑错误导致类型检查失败的问题。

---
### 版本号 `v1.12.2` (2025-10-19)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/19 17:30
- **更新内容**：
  - 通过为所有组件新增深拷贝功能确保分支条件中外部变量的状态变更仅在分支内临时生效。

---
### 版本号 `v1.12.1` (2025-10-18)
- **类型**：**[Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/10/18 20:44
- **更新内容**：
  - 优化 `funi` 类型标签描述解析功能：当未指定返回类型时，将自动默认返回`any`类型
  - 优化标签描述匹配逻辑，支持 `any` 类型标签的通配匹配

---
### 版本号 `v1.12.0` (2025-10-18)
- **类型**：**[Feature] [Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/10/18 18:34
- **更新内容**：
  - 本次更新为编译器新增函数参数类型标签描述功能，支持对作为参数的函数的签名进行明确标注，强化编译器的类型分析与检查能力。
  - 优化了部分接收高阶函数参数的内置函数。

---
### 版本号 `v1.11.0` (2025-10-17)
- **类型**：**[Feature]**
- **作者**：RestRegular
- **更新时间**：2025/10/17 18:43
- **更新内容**：
  - 为 `ds` 内置扩展新增了 `dictKeys`、`dictValues`、`iterContains` 三个函数。

---
### 版本号 `v1.10.0` (2025-10-16)
- **类型**：**[Feature] [BugFix] [Optimize] [doc]**
- **作者**：RestRegular
- **更新时间**：2025/10/16 22:48
- **更新内容**：
  - 完善了 `ds` 内置扩展的文档注释。
  - 为 `ds` 内置扩展新增了 `repeat`、`forInTimes`、`forInRange`、`repList`四个内置函数。
  - 修复了局部变量无法覆盖外部同名变量导致的符号重复错误。
  - 优化了符号命名重复错误信息，支持显示同名符号定义位置。
  - 新增了开发者模式，支持基于自定义条件设置智能断点。

---
### 版本号 `v1.9.0` (2025-10-16)
- **类型**：**[Feature] [BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/10/16 13:24
- **更新内容**：
  - 修复了部分解析器错误无法正常报告的错误。
  - 新增了 `copy` 内置函数。

---
### 版本号 `v1.8.0` (2025-10-02)
- **类型**：**[Feature] [BugFix] [Refactor] [Optimize]**
- **作者**：RestRegular
- **更新时间**：2025/10/02 01:05
- **更新内容**：
  - 修复了函数调用时获取传入参数的操作项数据类型不准确的错误。
  - 新增了类继承功能。
  - 移除了 `super` 关键字，将其更改为内置函数 `super`，`super` 支持自动调用直接继承的父类的构造函数并将自身派生为当前子类。
  - 重构了 `CompileVisitor::visitFunctionCallNode` 函数，将它的功能模块化，优化了它的扩展、复用和可读性。
  - 重构了内置函数的调用传递参数为单个结构体 `struct CallInfos {...}`，增强了内置函数对参数的处理细粒度。

---
### 版本号 `v1.7.0` ~~`v1.6.1`~~ (2025-09-26)
- **类型**：**[BugFix] [Refactor] [Deprecate]**
- **作者**：RestRegular
- **更新时间**：2025/09/26 11:04
- **更新内容**：
  - 弃用了 `iter` 关键字，将其改为内置函数。
  - 修复内置函数 `setType` 未正确设置符号类型的问题。
  - 解决类作用域中外部函数被内部同名函数意外覆盖的问题。
  - 修复通过类名直接调用实例成员时未触发错误检测的异常。
  - 修复了类定义时，当类属性通过函数调用或其他表达式进行初始化赋值时，系统误将临时变量识别为类属性而导致类定义错误的问题。
  - 统一类成员排列规则（先静态后实例、先属性后方法），并解决了类成员间的依赖关系。

---
### 版本号 `v1.6.0` (2025-09-20)
- **类型**：**[Feature]**
- **作者**：RestRegular
- **更新时间**：2025/09/20 10:01
- **更新内容**：
  - 新增递归导入中循环导入错误的检查
  - 修复此前缺乏对递归导入中循环导入的检测能力

---
### 版本号 `v1.5.3` (2025-09-18)
- **类型**：**[Refactor]**
- **作者**：RestRegular
- **更新时间**：2025/09/18 12:37
- **更新内容**：
  - 重构了 RCC 版本输出信息格式
  - 新增了版本的发布时间信息。

---
### 版本号 `v1.5.2` (2025-09-18)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/09/18 12:32
- **更新内容**：
  - 本次更新修复了一个问题：在编译属性访问符 `.` 时，函数类型的属性符号未被正确插入符号表，这可能导致访问扩展成员函数时出现符号丢失的错误。

---
### 版本号 `v1.5.1` (2025-09-17)
- **类型**：**[BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/09/17 16:12
- **更新内容**：
  - 修复了使用 `import` 内置函数在类型绑定模式下导入重复的扩展时出现导入的扩展符号类型不符合预期的错误。

---
### 版本号 `v1.5.0` (2025-09-17)
- **类型**：**[Feature] [BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/09/17 15:04
- **更新内容**：
  - 现在支持对通过 `import` 导入的自定义类进行类型注解。
  - 引入了 `var alias: clas = Extension.Class` 的语法，允许将导入的类赋值给一个类型变量，后续可使用该变量作为类型标签。
  - 修复了在类型注解中直接使用导入的类（如：`module.Class`）时引发的“标签未定义”错误。
  - 确保了导入类（如：构造函数 `module.Class()`）能够正常使用。

---
### 版本号 `v1.4.0` (2025-09-17)
- **类型**：**[Feature]**
- **作者**：RestRegular
- **更新时间**：2025/09/17 12:37
- **更新内容**：
  - ...

---
### 版本号 `v1.3.0` (2025-09-17)
- **类型**：**[Feature]**
- **作者**：RestRegular
- **更新时间**：2025/09/17 12:29
- **更新内容**：
  - ...

---
### 版本号 `v1.2.0` (2025-09-17)
- **类型**：**[Feature] [BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/09/17 11:51
- **更新内容**：
  - 重构字符串转义功能，扩展支持更多转义序列类型。
  - 修复 `import` 内置函数在命名导入模式下，重复导入已注册扩展时出现的符号未找到错误。
  - 修复编译类静态成员时 RI 指令不匹配的问题。
  - 修复类方法与外部作用域变量同名时引发的符号重复定义错误。

---
### 版本号 `v1.1.1` (2025-09-16)
- **类型**：**[Refactor] [BugFix]**
- **作者**：RestRegular
- **更新时间**：2025/09/16 17:18
- **更新内容**：
  - 新增 `rcc_builtin_core.h` 头文件，统一规范内置函数的返回类型与参数类型定义，解决类型定义分散问题，降低接口调用风险。
  - 将内置函数的实现逻辑拆分至多个子模块中，打破原有集中式代码结构，便于后续模块级别的维护、迭代与问题定位，提升代码可扩展性。
  - 优化 `import` 函数实现：新增功能支持，可同时满足自动导入与手动导入两种导入模式，适配不同业务场景下的导入需求，提升函数实用性。
  - 对核心内置函数 `entry`、`sout`、`sin` 的实现进行重构，优化内部逻辑流程，提升函数执行效率与稳定性，减少潜在的逻辑漏洞。
  - 移除未被使用的 `unpack` 函数，精简代码体积，避免无效代码对项目编译效率与维护成本的影响，保持代码库整洁性。

---
### 版本号 `v1.1.0` (2025-09-15)
- **类型**：**[Feature]**
- **作者**：RestRegular
- **更新时间**：2025/09/15 09:20
- **更新内容**：
  - 实现编译 `+=`, `-=`, `*=`, `\=`, `%=` 的增强型赋值符的编译功能

---
### 版本号 `v1.0.0` (2025-09-15)
- **类型**：**[Feature]**
- **作者**：RestRegular
- **更新时间**：2025/09/15 09:15
- **更新内容**：
  - 搭建 RCC 项目基础框架
  - 实现 RCC 初始核心功能：1. 基础命令行交互；2. 基础词法分析和语法分析，3. 基础语法编译
  - 实现 Windows 和 Linux 两大主流操作系统适配
  - 补充项目基础文档：1. README.md

---
© 2025 RestRegular
